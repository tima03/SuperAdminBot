<h1 align="center">
  –ü—Ä–∏–≤–µ—Ç, —è <a href="https://github.com/tima03/" target="_blank">–í–∞–ª–µ—Ä–∏—è –®–ª—ã–∫–æ–≤–∞ (Elka)</a>
  <img src="https://github.com/blackcater/blackcater/raw/main/images/Hi.gif" height="32"/>
</h1>
<h3 align="center">–°—Ç—É–¥–µ–Ω—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –Ω–∞—É–∫, –±–ª–æ–≥–µ—Ä –∏ —Å—Ç—Ä–∏–º–µ—Ä –∏–∑ –†–æ—Å—Å–∏–∏ üá∑üá∫</h3>

<h1 align="center">SuperAdminBot</h1>

<p align="center">
  <em>–ü–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–π open-source Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–∞—Ç–∞–º–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º API Telethon –∏ Aiogram.</em>
</p>

<p>
  SuperAdminBot –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:
  <ul>
    <li>–ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Ban)</li>
    <li>–ú—å—é—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Mute)</li>
    <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (User Id), –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (UserName), –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞–Ω–∞—Ö –∏ –º—å—é—Ç–∞—Ö (is_banned, is_muted) –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏</li>
    <li>–°–æ—Ö—Ä–∞–Ω—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —É–¥–æ–±–Ω–æ–µ –∏ –Ω–∞–¥–µ–∂–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏</li>
  </ul>
</p>

<h2>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</h2>
<p><strong>–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:</strong></p>
<pre><code>pip install -r requirements.txt</code></pre>

<p><strong>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º .env –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API:</strong></p>
<pre><code>
PG_LINK=postgresql://username:password*@host:port/database #PostgreSQL link to your Database
API_ID=0000000000 #Telegram apps API_ID that you can get at https://my.telegram.org/auth?to=apps
API_HASH='39432jksdsdskjd333mnmn300' #Telegram apps API_HASH that you can get at https://my.telegram.org/auth?to=apps
API_TOKEN='000000000:ANsdnsdnNSDNdnnsdnsndSNDn' #Your bot token that you can get at @BotFather
</code></pre>

<h2>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏–º–ø–æ—Ä—Ç—ã:</h2>
<p>–í–æ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞ –∏–∑ <code>main.py</code>, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏–º–ø–æ—Ä—Ç—ã –±–æ—Ç–∞:</p>
<pre><code>
from telethon import TelegramClient, events
import logging
from decouple import config
from db_handler.db_class import PostgresHandler
from aiogram import Bot, Dispatcher
from aiogram.types import ChatMemberRestricted, ChatMemberBanned

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ö–µ–Ω–¥–ª–µ—Ä–∞ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å—Å—ã–ª–∫–µ –∏–∑ .env
pg_db = PostgresHandler(config('PG_LINK'))

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ Telegram apps api (Telethon) –∏ –±–æ—Ç–∞ telegram api (aiogram) 
client = TelegramClient('bot', api_id, api_hash)
bot = Bot(token=bot_token)
dp = Dispatcher(bot)

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Telethon –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
@client.on(events.NewMessage(pattern='/start'))
async def start(event):
    await event.respond('–ü—Ä–∏–≤–µ—Ç! –Ø SuperAdminBot. –ö–∞–∫ —è –º–æ–≥—É –ø–æ–º–æ—á—å –≤–∞–º —Å–µ–≥–æ–¥–Ω—è?')
    raise events.StopPropagation

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –≤ —á–∞—Ç–µ
@client.on(events.ChatAction(chats='your_chat'))
async def handle_chat_action(event):
    if event.user_joined or event.user_left:
        users = await client.get_participants('your_chat')
        for user in users:
            if user.username is None:
                user.username = str(user.id)
            permissions = await client.get_permissions(event.chat_id, user.id)
            member = await bot.get_chat_member(event.chat_id, user.id)
            is_admin = permissions.is_admin
            is_muted = isinstance(member, ChatMemberRestricted)
            is_banned = isinstance(member, ChatMemberBanned)
            # –í–∞—à –∫–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
</code></pre>

<h2>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h2>
<p align="center">
  <a href="https://github.com/tima03/SuperAdminBot" target="_blank">
    <img src="https://img.shields.io/github/stars/tima03/SuperAdminBot?style=social" alt="GitHub stars"/>
  </a>
  <a href="https://github.com/tima03/SuperAdminBot/fork" target="_blank">
    <img src="https://img.shields.io/github/forks/tima03/SuperAdminBot?style=social" alt="GitHub forks"/>
  </a>
</p>

<h2>–°–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π</h2>
<p align="center">
  <a href="https://t.me/elka_micro" target="_blank">
    <img src="https://img.icons8.com/color/48/000000/telegram-app.png" alt="Telegram"/>
  </a>
  <a href="https://vk.com/elkatsgirl" target="_blank">
    <img src="https://img.icons8.com/color/48/000000/vk-com.png" alt="VK"/>
  </a>
  <a href="https://www.instagram.com/elka_ts" target="_blank">
    <img src="https://img.icons8.com/color/48/000000/instagram-new.png" alt="Instagram"/>
  </a>
</p>
